{"ast":null,"code":"import _asyncToGenerator from \"/home/haider/Desktop/Projects/clips/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/input/input.component\";\nimport * as i6 from \"../../shared/alert/alert.component\";\n\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n  }\n}\n\nexport class RegisterComponent {\n  constructor(auth, db) {\n    this.auth = auth;\n    this.db = db;\n    this.inSubmission = false;\n    this.showAlert = false;\n    this.alertMsg = \"Please wait! Your account is being created.\";\n    this.alertColor = 'blue';\n    this.name = new FormControl(\"\", [Validators.required, Validators.minLength(3)]);\n    this.email = new FormControl(\"\", [Validators.required, Validators.email]);\n    this.age = new FormControl(\"\", [Validators.required, Validators.min(13), Validators.max(120)]);\n    this.password = new FormControl(\"\", [Validators.required, Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)]);\n    this.confirm_password = new FormControl(\"\", Validators.required);\n    this.phoneNumber = new FormControl('', [Validators.required, Validators.minLength(13), Validators.maxLength(13)]);\n    this.registerForm = new FormGroup({\n      name: this.name,\n      email: this.email,\n      age: this.age,\n      password: this.password,\n      confirm_password: this.confirm_password,\n      phoneNumber: this.phoneNumber\n    });\n  }\n\n  register() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.showAlert = true;\n      _this.alertMsg = \"Please wait! Your account is being created.\";\n      _this.alertColor = 'blue';\n      _this.inSubmission = true;\n      const {\n        email,\n        password\n      } = _this.registerForm.value;\n\n      try {\n        const userCred = yield _this.auth.createUserWithEmailAndPassword(email, password);\n        yield _this.db.collection(\"users\").add({\n          name: _this.name.value,\n          age: _this.email.value,\n          email: _this.email.value,\n          phoneNumber: _this.phoneNumber.value\n        });\n      } catch (e) {\n        console.log(e);\n        _this.alertMsg = \"An unexpected error occurred. Please try again later.\";\n        _this.alertColor = \"red\";\n        _this.inSubmission = false;\n        return;\n      }\n\n      _this.alertMsg = \"Success! Your account has been created.\";\n      _this.alertColor = \"green\";\n    })();\n  }\n\n}\n\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AngularFireAuth), i0.ɵɵdirectiveInject(i2.AngularFirestore));\n};\n\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 28,\n  vars: 9,\n  consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"type\", \"email\", \"placeholder\", \"Enter Email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"placeholder\", \"Enter Password\", \"type\", \"password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm Password\", 3, \"control\"], [\"placeholder\", \"Enter Phone Number\", \"format\", \"(000)000-0000\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n      i0.ɵɵelementStart(1, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-input\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2);\n      i0.ɵɵelementStart(7, \"label\", 3);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"app-input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2);\n      i0.ɵɵelementStart(11, \"label\", 3);\n      i0.ɵɵtext(12, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2);\n      i0.ɵɵelementStart(15, \"label\", 3);\n      i0.ɵɵtext(16, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"app-input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 2);\n      i0.ɵɵelementStart(19, \"label\", 3);\n      i0.ɵɵtext(20, \"Confirm Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"app-input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 2);\n      i0.ɵɵelementStart(23, \"label\", 3);\n      i0.ɵɵtext(24, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"app-input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 10);\n      i0.ɵɵtext(27, \" Submit \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.age);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.confirm_password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.phoneNumber);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.inSubmission);\n    }\n  },\n  directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.InputComponent, i6.AlertComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"sources":["/home/haider/Desktop/Projects/clips/src/app/user/register/register.component.ts"],"names":["FormGroup","FormControl","Validators","i0","i1","i2","i3","i4","i5","i6","RegisterComponent_app_alert_0_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ctx_r0","ɵɵnextContext","ɵɵproperty","alertColor","ɵɵadvance","ɵɵtextInterpolate1","alertMsg","RegisterComponent","constructor","auth","db","inSubmission","showAlert","name","required","minLength","email","age","min","max","password","pattern","confirm_password","phoneNumber","maxLength","registerForm","register","value","userCred","createUserWithEmailAndPassword","collection","add","e","console","log","ɵfac","RegisterComponent_Factory","t","ɵɵdirectiveInject","AngularFireAuth","AngularFirestore","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","RegisterComponent_Template","ɵɵtemplate","ɵɵlistener","RegisterComponent_Template_form_ngSubmit_1_listener","ɵɵelement","invalid","directives","NgIf","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","InputComponent","AlertComponent","styles"],"mappings":"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","sourcesContent":["import { FormGroup, FormControl, Validators, } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/auth\";\nimport * as i2 from \"@angular/fire/compat/firestore\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/input/input.component\";\nimport * as i6 from \"../../shared/alert/alert.component\";\nfunction RegisterComponent_app_alert_0_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"app-alert\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"color\", ctx_r0.alertColor);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.alertMsg, \"\\n\");\n} }\nexport class RegisterComponent {\n    constructor(auth, db) {\n        this.auth = auth;\n        this.db = db;\n        this.inSubmission = false;\n        this.showAlert = false;\n        this.alertMsg = \"Please wait! Your account is being created.\";\n        this.alertColor = 'blue';\n        this.name = new FormControl(\"\", [\n            Validators.required,\n            Validators.minLength(3)\n        ]);\n        this.email = new FormControl(\"\", [\n            Validators.required,\n            Validators.email\n        ]);\n        this.age = new FormControl(\"\", [\n            Validators.required,\n            Validators.min(13),\n            Validators.max(120)\n        ]);\n        this.password = new FormControl(\"\", [\n            Validators.required,\n            Validators.pattern(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm)\n        ]);\n        this.confirm_password = new FormControl(\"\", Validators.required);\n        this.phoneNumber = new FormControl('', [\n            Validators.required,\n            Validators.minLength(13),\n            Validators.maxLength(13)\n        ]);\n        this.registerForm = new FormGroup({\n            name: this.name,\n            email: this.email,\n            age: this.age,\n            password: this.password,\n            confirm_password: this.confirm_password,\n            phoneNumber: this.phoneNumber\n        });\n    }\n    async register() {\n        this.showAlert = true;\n        this.alertMsg = \"Please wait! Your account is being created.\";\n        this.alertColor = 'blue';\n        this.inSubmission = true;\n        const { email, password } = this.registerForm.value;\n        try {\n            const userCred = await this.auth.createUserWithEmailAndPassword(email, password);\n            await this.db.collection(\"users\")\n                .add({\n                name: this.name.value,\n                age: this.email.value,\n                email: this.email.value,\n                phoneNumber: this.phoneNumber.value\n            });\n        }\n        catch (e) {\n            console.log(e);\n            this.alertMsg = \"An unexpected error occurred. Please try again later.\";\n            this.alertColor = \"red\";\n            this.inSubmission = false;\n            return;\n        }\n        this.alertMsg = \"Success! Your account has been created.\";\n        this.alertColor = \"green\";\n    }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) { return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AngularFireAuth), i0.ɵɵdirectiveInject(i2.AngularFirestore)); };\nRegisterComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: RegisterComponent, selectors: [[\"app-register\"]], decls: 28, vars: 9, consts: [[3, \"color\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"inline-block\", \"mb-2\"], [\"placeholder\", \"Enter Name\", 3, \"control\"], [\"type\", \"email\", \"placeholder\", \"Enter Email\", 3, \"control\"], [\"type\", \"number\", \"placeholder\", \"Enter Age\", 3, \"control\"], [\"placeholder\", \"Enter Password\", \"type\", \"password\", 3, \"control\"], [\"type\", \"password\", \"placeholder\", \"Confirm Password\", 3, \"control\"], [\"placeholder\", \"Enter Phone Number\", \"format\", \"(000)000-0000\", 3, \"control\"], [\"type\", \"submit\", 1, \"block\", \"w-full\", \"bg-indigo-400\", \"text-white\", \"py-1.5\", \"px-3\", \"rounded\", \"transition\", \"hover:bg-indigo-500\", \"disabled:opacity-50\", \"disabled:bg-indigo-400\", 3, \"disabled\"], [3, \"color\"]], template: function RegisterComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵtemplate(0, RegisterComponent_app_alert_0_Template, 2, 2, \"app-alert\", 0);\n        i0.ɵɵelementStart(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_1_listener() { return ctx.register(); });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"label\", 3);\n        i0.ɵɵtext(4, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"app-input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"label\", 3);\n        i0.ɵɵtext(8, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"app-input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 2);\n        i0.ɵɵelementStart(11, \"label\", 3);\n        i0.ɵɵtext(12, \"Age\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"app-input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 2);\n        i0.ɵɵelementStart(15, \"label\", 3);\n        i0.ɵɵtext(16, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"app-input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 2);\n        i0.ɵɵelementStart(19, \"label\", 3);\n        i0.ɵɵtext(20, \"Confirm Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"app-input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 2);\n        i0.ɵɵelementStart(23, \"label\", 3);\n        i0.ɵɵtext(24, \"Phone Number\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"app-input\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"button\", 10);\n        i0.ɵɵtext(27, \" Submit \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showAlert);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.age);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.password);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.confirm_password);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"control\", ctx.phoneNumber);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid || ctx.inSubmission);\n    } }, directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.InputComponent, i6.AlertComponent], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIn0= */\"] });\n"]},"metadata":{},"sourceType":"module"}